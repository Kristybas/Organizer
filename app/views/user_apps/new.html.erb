
<%= render 'pages/coordonnées' %>
  <h1 id="titre">Ajout d'une démarche</h1>
  <hr class="thick-hr">
<div class="formulaire">
  <%= simple_form_for @user_app do |f| %>
    <!-- Le champ Application ne sera pas modifiable -->
    <div id="searchapps" style="font-weight:bold;">
  <%= f.input :app_id, collection: App.all, label: 'Application'  %>
    </div>
    <!-- Nom modifiable -->
    <div class="form-group input-label-bold">
      <div id="modifform">
        <%= f.input :name, placeholder: "Nom", label: "Nom", input_html: { value: current_user.first_name } %>
      </div>
    </div>

    <!-- Téléphone modifiable -->
    <div class="form-group input-label-bold">
      <div id="modifform">
        <%= f.input :phone, placeholder: "Téléphone", label: "Téléphone", input_html: { value: current_user.phone } %>
      </div>
    </div>

    <!-- Adresse modifiable -->
    <div class="form-group input-label-bold">

      <div id="modifform">
        <%= f.input :address, placeholder: "Adresse", label: "Adresse", input_html: { value: current_user.address } %>
      </div>
    </div>

    <!-- Email modifiable -->
    <div class="form-group input-label-bold">

      <div id="modifform">
        <%= f.input :email, placeholder: "Email", label: "Email", input_html: { value: current_user.email } %>
      </div>
    </div>

    <!-- RIB modifiable avec icône de visibilité -->
    <div class="form-group input-label-bold" data-controller="rib">

      <div id="modifform">
        <%= f.input :rib, placeholder: "RIB", label: "RIB", input_html: { value: current_user.rib, class: "d-none", data: { rib_target: "decrypt" } } %>
        <span class="info" data-rib-target="encrypt"><%= current_user.encrypt_rib %></span>
        <i class="fa-solid fa-eye" data-action="click->rib#toggle"></i>
      </div>
    </div>

    <!-- Dates de prélèvement et de renouvellement -->

      <div id="date" class="input-label-bold">
        <%= f.input :date_prelevement, placeholder: "Date de prélèvement", label: 'Date de prélèvement', as: :date, html5: true %>
        <%= f.input :date_renouvellement, placeholder: "Date de renouvellement", label: 'Date de renouvellement', as: :date, html5: true %>
      </div>


    <!-- Montant modifiable -->
    <div id="montant" class="input-label-bold">
      <%= f.input :montant, placeholder: "Montant", label: "Montant" %>
    </div>

    <!-- Bouton Enregistrer -->
    <div id="enregistrer" class="text-center">
      <%= f.button :submit, value: 'Enregistrer',class: 'submit-button' %>
    </div>

  <% end %>
</div>
