
<%= render 'pages/coordonnées' %>
  <h1 id="titre">Ajout d'une démarche</h1>
<div class="formulaire">
  <%= simple_form_for @user_app do |f| %>
    <!-- Le champ Application ne sera pas modifiable -->
    <div id="searchapps">
  <%= f.input :app_id, collection: App.all, label: 'Application' %>
    </div>
    <!-- Nom modifiable -->
    <div class="form-group">
      <label>Nom :</label>
      <div id="modifform">
        <%= f.input :name, placeholder: "Nom", label: false, input_html: { value: current_user.first_name } %>
      </div>
    </div>

    <!-- Téléphone modifiable -->
    <div class="form-group">
      <label style="letter-spacing:1px">Téléphone :</label>
      <div id="modifform">
        <%= f.input :phone, placeholder: "Téléphone", label: false, input_html: { value: current_user.phone } %>
      </div>
    </div>

    <!-- Adresse modifiable -->
    <div class="form-group">
      <label>Adresse :</label>
      <div id="modifform">
        <%= f.input :address, placeholder: "Adresse", label: false, input_html: { value: current_user.address } %>
      </div>
    </div>

    <!-- Email modifiable -->
    <div class="form-group">
      <label>Email :</label>
      <div id="modifform">
        <%= f.input :email, placeholder: "Email", label: false, input_html: { value: current_user.email } %>
      </div>
    </div>

    <!-- RIB modifiable avec icône de visibilité -->
    <div class="form-group" data-controller="rib">
      <label>RIB :</label>
      <div id="modifform">
        <%= f.input :rib, placeholder: "RIB", label: false, input_html: { value: current_user.rib, class: "d-none", data: { rib_target: "decrypt" } } %>
        <span class="info" data-rib-target="encrypt"><%= current_user.encrypt_rib %></span>
        <i class="fa-solid fa-eye" data-action="click->rib#toggle"></i>
      </div>
    </div>

    <!-- Dates de prélèvement et de renouvellement -->
    <div class="d-flex justify-content-between" id="center">
      <div id="date">
        <%= f.input :date_prelevement, placeholder: "Date de prélèvement", label: 'Date de prélèvement', as: :date, html5: true %>
        <%= f.input :date_renouvellement, placeholder: "Date de renouvellement", label: 'Date de renouvellement', as: :date, html5: true %>
      </div>
    </div>

    <!-- Montant modifiable -->
    <div id="montant">
      <%= f.input :montant, placeholder: "Montant", label: false %>
    </div>

    <!-- Bouton Enregistrer -->
    <div id="enregistrer" class="text-center">
      <%= f.button :submit, value: 'Enregistrer', class: "btn btn-outline-dark ml-2" %>
    </div>

  <% end %>
</div>
